# 📅 일일 작업 리포트
**작업 일자**: 2026-02-28

## 📌 주요 작업 요약

금일 진행된 주요 작업은 **디자이너(designer) 전용 UI 개편** 및 **빌더(builder) 기능의 원상 복구 및 분리**, 그리고 **AI 커버 이미지 생성 프롬프트 고도화**입니다.

1. **디자이너(designer) 페이지 UI 및 기능 개편 ✨**
   - 불필요했던 사이즈 선택 페이지 삭제 (기본 K 1800 사이즈로 시스템 고정)
   - StepFoam(구조 선택) 하단에 'Single / Dual 옵션' 배치
   - 커버 선택 화면에서 기존 구조에 따른 제한 로직 삭제, 모든 항목(4종 리스트) 표출
   - 커버 리스트 UI 변경: 텍스트 튜닝된 전용 4개 스타일 적용 (Tight top style, Euro top style, Slip Cover style)
   - UI 레이아웃을 1단(좌측 화면 가득 채움)으로 변경하여 몰입감 향상 및 우측 '설계 현황' 제거
   - 3D Preview 부품 간격 최소값을 0으로 조정 및 커버 선택 시 불필요한 이미지 팝업 제거

2. **빌더(builder) 페이지 원상 복구 및 분리**
   - 디자이너 페이지 개편 중 발생한 빌더 페이지 이슈(6단계 포장 단계에서 7단계 미진입) 수정 (스토어 로직 수정)
   - 빌더 전용으로 기존의 6종 커버 리스트(힐링넘버, 컴팩트, 오크트위드, 플랫그리드, 젠틀브리즈, i5)를 완벽히 복구
   - 견적서 단가 원본 데이터를 유지하기 위해 `COVER_OPTIONS`(6종)와 `DESIGNER_COVER_OPTIONS`(4종) 상수로 파일 내 분리
   - `MattressExplodedView`, `BrochureGenerator`, `StepCover` 등 핵심 컴포넌트가 현재 라우팅(`usePathname`)에 따라 알맞은 옵션 배열을 참조하도록 지능화

3. **AI 커버 이미지 생성 페이지 고도화**
   - 내부 시스템 프롬프트를 상세하게 세분화 (Top Cover Color/Patten, Piping Color, Side Fabric Color/Pattern, Logo Style)
   - 카메라 앵글 분리 (프론트/정면, 퍼스펙티브/측면, 탑 뷰/상단) 및 1:1 정방형 렌더링 유지
   - 매트리스 단독 샷(흰색 배경) 강제 적용
   - 사용자가 한 번 요청 시 카메라 앵글별 고유 프롬프트가 적용된 **3장의 이미지가 동시 생성**되어 `resource/AI-cover` 폴더에 즉시 저장되도록 파이프라인 개설

4. **컨셉이미지 생성 기능 신규 분리 및 스펙 동기화 🖼️**
   - AI 커버 생성 완료 시에만 활성화되는 독립적인 **컨셉이미지 생성 모달** 신규 구축
   - 기존의 매트리스 텍스트 설명 개입을 제거하고 "참고 이미지(Reference Image)" 형태와 시각적 요소에 완전히 집중하도록 AI 프롬프트 재설계
   - **스펙 동기화**: AI 커버 생성과 동일한 해상도(2048x2048), 1:1 정방형 비율, 동일한 3개의 카메라 앵글 프롬프트 완전 일치
   - 실시간 **자동 저장 시스템 통일**: 컨셉 이미지 역시 3장 생성 완료 직후 자동 리사이징(2048) 되어 `resource/AI-concept` 로 즉시 자동 저장
   - **프롬프트 가시성 확보**: 배경 및 프롬프트 선택 시 텍스트 영역을 4배 넓히고, 직접 영문 프롬프트를 커스텀 편집할 수 있도록 편집 영역 제공

---
### 🛠 집중 수정 요청 반영 내역
> 일일 작업 내용 중 수정 및 복구 요청이 많았던 핵심 이슈 리포트입니다.

* **디자이너/빌더 페이지 간 종속성 엉킴 (빌더 페이지 손상 문제)**
  * **(문제)** 새롭게 변경된 UI/UX(디자이너) 요구사항이 기존 원가 계산 시스템(빌더)의 커버 옵션 리스트를 덮어씌워버려서 빌더의 포장/마무리 단계 및 가격 산출 로직이 막히는 크리티컬 이슈가 발생함.
  * **(해결)** 두 환경이 하나의 컴포넌트를 공유하더라도 브라우저 접속 환경(`usePathname`)에 따라 데이터를 다르게 불러오도록 설계 전면 변경. 특히, `constants.ts`에 기존 커버 6종을 다시 정의(`COVER_OPTIONS`)하고 디자이너 전용 4종(`DESIGNER_COVER_OPTIONS`)을 코드로 완전 분리시킴으로써 **프론트엔드 디자인 수정 시 백엔드(원가/견적/호환성) 데이터간 종속성 충돌을 100% 방지**함.

---
**내일의 계획 방향성**
- [ ] 개편된 디자이너 페이지 내 3D Preview 텍스처 등 렌더링 디테일 체크
- [ ] AI 이미지 생성 파이프라인 프롬프트 최종 튜닝 및 사용성 종합 검증
